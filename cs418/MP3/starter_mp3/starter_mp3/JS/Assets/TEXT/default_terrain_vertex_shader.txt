attribute vec4 vPosition;


uniform mat4 viewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 modelmatrix;

uniform vec3 uAmbientLightColor;

uniform sampler2D uSampler;


varying vec3 vColor;


void main()
{   

    
    vec4 eyePos = viewMatrix * vPosition;
    vColor = vec3((abs(vPosition.x + 10.0) / 20.0), 0, (abs(vPosition.z + 10.0) / 20.0));
    
    vec2 tex = vec2(vColor.x, vColor.z);                                
    vec4 fCol = texture2D(uSampler, tex);
    vColor = fCol.xyz;
    
    vec4 fPos = vec4(vPosition.x * 0.5, vColor.y * 3.0 - 5.0, vPosition.z * 0.5, 1.0);
    vColor = fCol.xyz * uAmbientLightColor;
    gl_Position = projectionMatrix * viewMatrix * fPos;
}  
